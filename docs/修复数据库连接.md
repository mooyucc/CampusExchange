# ğŸ”§ ä¿®å¤æ•°æ®åº“è¿æ¥é”™è¯¯

## é”™è¯¯ä¿¡æ¯
```
PrismaClientInitializationError
Can't reach database server at 'db.amqaeolouwkpsqndrubk.supabase.co:6543'
```

## å¯èƒ½çš„åŸå› 

### 1. DATABASE_URL ç¯å¢ƒå˜é‡æœªè®¾ç½®æˆ–é”™è¯¯
- Vercel ä¸­å¯èƒ½æ²¡æœ‰æ­£ç¡®è®¾ç½® `DATABASE_URL`
- æˆ–è€… `DATABASE_URL` çš„å€¼ä¸æ­£ç¡®

### 2. è¿æ¥æ±  URL é—®é¢˜
- ç«¯å£ 6543 æ˜¯è¿æ¥æ± ç«¯å£
- å¯èƒ½éœ€è¦ä½¿ç”¨ç›´æ¥è¿æ¥ï¼ˆç«¯å£ 5432ï¼‰

### 3. Supabase ç½‘ç»œé™åˆ¶
- å¯èƒ½éœ€è¦é…ç½® IP ç™½åå•
- æˆ–è€…è¿æ¥æ± æœåŠ¡æœªå¯ç”¨

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šæ£€æŸ¥å¹¶æ›´æ–° DATABASE_URLï¼ˆæ¨èï¼‰

1. **åœ¨ Vercel ä¸­æ£€æŸ¥ç¯å¢ƒå˜é‡ï¼š**
   - è¿›å…¥ `campus-exchange` é¡¹ç›®
   - Settings â†’ Environment Variables
   - ç¡®è®¤ `DATABASE_URL` å­˜åœ¨

2. **å¦‚æœä¸å­˜åœ¨ï¼Œæ·»åŠ ï¼š**
   ```
   Key: DATABASE_URL
   Value: postgresql://postgres:Sbmooyu123@db.amqaeolouwkpsqndrubk.supabase.co:6543/postgres?pgbouncer=true
   Environments: All Environments
   ```

3. **å¦‚æœå­˜åœ¨ä½†è¿æ¥å¤±è´¥ï¼Œå°è¯•ä½¿ç”¨ç›´æ¥è¿æ¥ï¼š**
   ```
   Key: DATABASE_URL
   Value: postgresql://postgres:Sbmooyu123@db.amqaeolouwkpsqndrubk.supabase.co:5432/postgres
   Environments: All Environments
   ```
   ï¼ˆä½¿ç”¨ç«¯å£ 5432 è€Œä¸æ˜¯ 6543ï¼‰

### æ–¹æ¡ˆ 2ï¼šæ£€æŸ¥ Supabase è¿æ¥é…ç½®

åœ¨ Supabase é¡¹ç›®ä¸­ï¼š
1. è¿›å…¥ **Settings** â†’ **Database**
2. æ£€æŸ¥ **Connection Pooling** æ˜¯å¦å¯ç”¨
3. å¦‚æœæ²¡æœ‰å¯ç”¨ï¼Œå¯ä»¥ï¼š
   - å¯ç”¨è¿æ¥æ± ï¼ˆæ¨èç”¨äº Vercelï¼‰
   - æˆ–è€…ä½¿ç”¨ç›´æ¥è¿æ¥ï¼ˆç«¯å£ 5432ï¼‰

### æ–¹æ¡ˆ 3ï¼šéªŒè¯æ•°æ®åº“è¿æ¥

åœ¨ Supabase ä¸­ï¼š
1. è¿›å…¥ **SQL Editor**
2. è¿è¡Œç®€å•æŸ¥è¯¢æµ‹è¯•è¿æ¥ï¼š
   ```sql
   SELECT 1;
   ```
3. å¦‚æœæŸ¥è¯¢æˆåŠŸï¼Œè¯´æ˜æ•°æ®åº“æœ¬èº«æ²¡é—®é¢˜

## ç«‹å³æ“ä½œæ­¥éª¤

### æ­¥éª¤ 1ï¼šæ›´æ–° DATABASE_URL

åœ¨ Vercel çš„ `campus-exchange` é¡¹ç›®ä¸­ï¼š

1. **å°è¯•ä½¿ç”¨ç›´æ¥è¿æ¥ï¼ˆç«¯å£ 5432ï¼‰ï¼š**
   ```
   DATABASE_URL=postgresql://postgres:Sbmooyu123@db.amqaeolouwkpsqndrubk.supabase.co:5432/postgres
   ```

2. **æˆ–è€…å¦‚æœè¿æ¥æ± å¯ç”¨ï¼Œç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„è¿æ¥æ±  URLï¼š**
   ```
   DATABASE_URL=postgresql://postgres:Sbmooyu123@db.amqaeolouwkpsqndrubk.supabase.co:6543/postgres?pgbouncer=true
   ```

### æ­¥éª¤ 2ï¼šé‡æ–°éƒ¨ç½²

1. æ›´æ–°ç¯å¢ƒå˜é‡åï¼Œç‚¹å‡» **Save**
2. è¿›å…¥ **Deployments**
3. ç‚¹å‡» **Redeploy** é‡æ–°éƒ¨ç½²

### æ­¥éª¤ 3ï¼šéªŒè¯

éƒ¨ç½²å®Œæˆåï¼Œæ£€æŸ¥ï¼š
- âœ… åº”ç”¨ä¸å†æŠ¥é”™
- âœ… å¯ä»¥è®¿é—®é¦–é¡µ
- âœ… Runtime Logs ä¸­æ²¡æœ‰æ•°æ®åº“è¿æ¥é”™è¯¯

---

## æ¨èé…ç½®

**å¦‚æœè¿æ¥æ± ä¸å¯ç”¨æˆ–æœ‰é—®é¢˜ï¼Œä½¿ç”¨ç›´æ¥è¿æ¥ï¼š**

```
DATABASE_URL=postgresql://postgres:Sbmooyu123@db.amqaeolouwkpsqndrubk.supabase.co:5432/postgres
```

**æ³¨æ„ï¼š** ç›´æ¥è¿æ¥å¯èƒ½åœ¨æŸäº›æƒ…å†µä¸‹ä¼šæœ‰è¿æ¥æ•°é™åˆ¶ï¼Œä½†å¯¹äºå¼€å‘å’Œå°å‹åº”ç”¨é€šå¸¸æ˜¯è¶³å¤Ÿçš„ã€‚

